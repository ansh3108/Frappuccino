<!DOCTYPE html>
<html>
  <head>
    <title>Simple Car Game with WASD Controls</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script>
      AFRAME.registerComponent('car-controls', {
        init: function () {
          this.position = this.el.getAttribute('position');
          this.speed = 0.1;
          this.keys = {};

          window.addEventListener('keydown', (event) => {
            console.log(`Key down: ${event.key}`); // Debugging log
            this.keys[event.key] = true;
          });

          window.addEventListener('keyup', (event) => {
            console.log(`Key up: ${event.key}`); // Debugging log
            this.keys[event.key] = false;
          });
        },
        tick: function () {
          if (this.keys['w']) {
            this.position.z -= this.speed;
          }
          if (this.keys['s']) {
            this.position.z += this.speed;
          }
          if (this.keys['a']) {
            this.position.x -= this.speed;
          }
          if (this.keys['d']) {
            this.position.x += this.speed;
          }
          this.el.setAttribute('position', this.position);
        }
      });
    </script>
  </head>
  <body>
    <a-scene>
      <!-- Ground -->
      <a-plane position="0 0 0" rotation="-90 0 0" width="20" height="20" color="#7BC8A4"></a-plane>

      <!-- Car with Camera -->
      <a-entity id="car" position="0 0.5 0" car-controls>
        <a-box width="1" height="1" depth="2" color="#FF5733"></a-box>
        <a-entity camera position="0 1 3"></a-entity>
      </a-entity>
      
      <!-- Sky -->
      <a-sky color="#ECECEC"></a-sky>
    </a-scene>
  </body>
</html>
